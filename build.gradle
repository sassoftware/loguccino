/*
 * This file was generated by the Gradle 'init' task.
 *
 * This project uses @Incubating APIs which are subject to change.
 */

plugins {
    id 'application'
    id 'java'
    id 'org.graalvm.buildtools.native' version '0.9.4'
    id 'com.github.johnrengelman.shadow' version '7.1.1'
    id 'com.palantir.git-version' version '0.12.3'
}

group = 'com.sas.vulnerabilities'
version = gitVersion()
description = 'SAS Java Loguccino Vulnerability Scanner'
mainClassName = "com.sas.vulnerabilities.Loguccino"

sourceCompatibility = JavaVersion.VERSION_1_8

repositories {
    mavenLocal()
    mavenCentral()
}

dependencies {
    implementation 'com.opencsv:opencsv:5.5.2'
    implementation 'org.apache.commons:commons-compress:1.21'
    implementation 'info.picocli:picocli:4.6.2'
    annotationProcessor 'info.picocli:picocli-codegen:4.6.2'
    implementation 'com.github.lukfor:magic-progress:0.3.2'
    implementation 'org.tinylog:tinylog-api:2.3.2'
    implementation 'org.tinylog:tinylog-impl:2.3.2'
}

compileJava {
    options.compilerArgs += ["-Aproject=${project.group}/${project.name}"]
}

jar {
    manifest {
        attributes(
                "Implementation-Title": project.name,
                "Implementation-Version": archiveVersion
        )
    }
}

shadowJar {
    manifest {
        attributes(
                "Implementation-Title": project.name,
                "Implementation-Version": archiveVersion
        )
    }
}

nativeBuild {
    imageName = 'loguccino'
}

